# GT5-Unofficial 无线电网系统文档

**⚠️ 重要声明**: 本文档基于社区讨论、Wiki信息和游戏内观察编写。具体的代码实现细节请查阅 [GT5-Unofficial源代码](https://github.com/GTNewHorizons/GT5-Unofficial)。本文档不包含源代码，仅描述功能和使用方法。

---

## 📋 目录

1. [概述](#概述)
2. [玩家无线能量网络](#玩家无线能量网络)
3. [命令系统](#命令系统)
4. [无线能量舱室](#无线能量舱室)
5. [Tesla Tower 系统](#tesla-tower-系统)
6. [Laser 能量系统](#laser-能量系统)
7. [使用指南](#使用指南)

---

## 概述

GT5-Unofficial 为 GT New Horizons (GTNH) 模组包提供了多种无线能量传输方式：

### 1. 玩家无线能量网络（Player Wireless Energy Network）
- **特点**: 基于玩家UUID的全局能量存储系统
- **范围**: 无距离限制，跨维度有效
- **访问**: 通过无线能量舱室（Wireless Energy Hatch）存取
- **共享**: 支持玩家组队共享能量池

### 2. Tesla Tower（特斯拉塔）
- **特点**: 区域性无线能量分配系统
- **范围**: 可配置半径（默认32格，可扩展）
- **用途**: 向范围内装有Tesla Coil Cover的机器供电

### 3. Laser 系统（激光系统）
- **特点**: 点对点高通量能量传输
- **范围**: 直线距离，需要对齐
- **用途**: 超大功率传输，适合后期电网

---

## 玩家无线能量网络

### 系统概述

玩家无线能量网络是一个**全局能量存储池**，每个玩家都有独立的能量网络：

```
玩家 → 全局能量池（存储在世界数据中）→ 无线舱室 → 机器
```

### 核心特性

#### 全局访问
- ✅ 不受距离限制
- ✅ 跨维度有效（主世界、下界、末地、其他维度）
- ✅ 无需物理连接
- ✅ 玩家离线时仍可运行（需区块加载）

#### 基于UUID
- 每个玩家通过Minecraft UUID唯一标识
- UUID不随玩家改名而改变
- 保证能量网络的持久性和唯一性

#### 容量系统
- 每个玩家网络有能量容量上限
- 容量可能通过游戏内方式扩展（具体方式取决于服务器配置）
- 达到容量上限时无法继续存入能量

#### 团队共享
- 多个玩家可以合并能量网络
- 合并后所有成员共享同一能量池
- 能量总和受总容量限制
- ⚠️ 合并后分离可能有限制（详见命令系统）

---

## 命令系统

GT5-Unofficial 提供命令来管理玩家无线能量网络。

### `/gt global_energy_display <playerID>`

**功能**: 查看指定玩家的无线能量网络状态

**用法**:
```
/gt global_energy_display <玩家名称或UUID>
```

**显示信息**:
- 玩家标识（名称和UUID）
- 当前存储的能量 (EU)
- 最大能量容量 (EU)
- 使用率百分比
- 团队成员列表（如果有组队）

**权限**:
- 查看自己的网络：普通玩家
- 查看他人的网络：通常需要OP权限

**示例**:
```
/gt global_energy_display Steve

可能的输出：
玩家: Steve
当前能量: 5,234,567,890 EU
最大容量: 10,000,000,000 EU
使用率: 52.35%
```

### `/gt global_energy_join <player1> <player2>`

**功能**: 将两个玩家的能量网络合并为一个共享网络

**用法**:
```
/gt global_energy_join <玩家1> <玩家2>
```

**效果**:
- 合并两个玩家的能量总和
- 合并两个玩家的容量总和
- 所有团队成员可以访问共享能量池

**权限**:
- 当前实现：通常需要OP权限
- 社区讨论：希望允许玩家自主组队

**注意事项**:
- ⚠️ 合并操作可能是永久性的
- ⚠️ 离队方式存在限制（目前可能通过 `/gt global_energy_join <自己> <自己>` 创建新网络，但能量不会转移）
- ⚠️ 建议仅与信任的玩家组队

**已知问题**:
- 离队后能量分配不公平
- 先离开的玩家可能失去对原能量的访问
- 社区已提出改进建议

---

## 无线能量舱室

### 舱室类型

无线能量舱室是连接玩家能量网络和机器的方块。

#### Wireless Energy Input Hatch（无线能量输入舱室）
- **功能**: 从玩家能量网络提取能量，供给机器
- **使用**: 安装在多方块机器的能量仓口位置
- **速率**: 根据舱室电压等级（LV, MV, HV, EV, IV, LuV, ZPM, UV等）
- **安培**: 支持多安培舱室，可并联多个舱室

#### Wireless Energy Output Hatch（无线能量输出舱室）
- **功能**: 从发电机/机器提取能量，存入玩家网络
- **使用**: 安装在发电机或能量产生设备上
- **速率**: 根据舱室电压等级
- **限制**: 受玩家网络容量上限限制

### 工作机制

#### 能量提取（Input Hatch）
```
工作流程：
1. 机器需要能量运行
2. 无线输入舱室从玩家能量池提取
3. 能量注入机器内部缓存
4. 机器使用能量运行

限制：
- 提取速率 = 舱室电压 × 舱室安培数
- 玩家网络余额不足时机器可能停止
- 无距离损耗
```

#### 能量存储（Output Hatch）
```
工作流程：
1. 发电机产生能量
2. 无线输出舱室提取发电机产出
3. 能量存入玩家能量池
4. 发电机继续运行

限制：
- 存储速率 = 舱室电压 × 舱室安培数
- 玩家网络容量满时无法继续存储
- 100%传输效率，无损耗
```

### 绑定机制

- 舱室通常绑定到放置者的UUID
- 使用螺丝刀（Screwdriver）可能可以配置
- 绑定后只能访问对应玩家的能量网络

### 应用场景

#### 远程供电
```
主基地发电站 → 无线输出舱室 → 玩家能量网络
                                    ↓
            采矿基地机器 ← 无线输入舱室 ← 玩家能量网络
```

#### 跨维度能量收集
```
主世界: 核电站 → 玩家网络
下界: 岩浆发电 → 玩家网络
月球: 太阳能场 → 玩家网络
所有能量汇总到同一池中
```

---

## Tesla Tower 系统

### 基本介绍

Tesla Tower 是一个**EV等级多方块结构**，提供区域性无线能量分配。

**来源**: [GTNH Wiki - Tesla Tower](https://wiki.gtnewhorizons.com/wiki/Tesla_tower)

### 核心特性

#### 范围传输
- **默认范围**: 32格半径（以控制器为中心）
- **扩展范围**: 
  - 主线圈等级高于电容器：+25%
  - 使用等离子体（Helium/Nitrogen/Radon）：×2或×4
  - 最大可达160格（带线圈加成和Radon等离子体）

#### 能量存储
- 内部缓存大小取决于电容器数量和等级
- 每个电容器可存储512 ticks的能量
- 电容器等级决定传输电压

| 电容器等级 | 电压 (EU/t) | 单个容量 (EU) |
|------------|-------------|---------------|
| LV | 32 | 16,384 |
| MV | 128 | 65,536 |
| HV | 512 | 262,144 |
| EV | 2,048 | 1,048,576 |
| IV | 8,192 | 4,194,304 |
| LuV | 32,768 | 16,777,216 |
| ZPM | 131,072 | 67,108,864 |

#### 能量分配
- 向范围内装有**Tesla Coil Cover**的机器供电
- 支持单方块机器和多方块机器
- 电池缓存每个电池可拉取2A

### 能量损耗

**距离损耗公式**:
```
损耗 = 距离(格) × 安培数 × 1 EU/t
```

示例：
- 距离50格，传输4A
- 损耗 = 50 × 4 × 1 = 200 EU/t

**Overdrive模式**:
- 启用时输出功率翻倍
- 额外损失25%总能量
- 在GUI中设置Overdrive参数为1启用

### 接收方式

#### Tesla Coil Cover（特斯拉线圈覆盖物）
- 安装在机器侧面（非正面）
- 单方块机器：任意侧面
- 多方块机器：能量仓口朝上放置
- 自动从范围内的Tesla Tower拉取能量

#### Tesla Transceiver（特斯拉收发器）
- 整合电池缓存和覆盖物功能
- 仅支持到IV等级
- ⚠️ 电压不匹配会爆炸

### 性能优化

**禁用视觉效果**（提升TPS）:
```
配置文件: /config/tectech.cfg
设置: TESLA_VISUAL_EFFECT=false
```

---

## Laser 能量系统

### 基本介绍

Laser 系统提供**点对点高通量能量传输**，适合后期超大功率需求。

**来源**: [GTNH Wiki - Lasers](https://gtnh.miraheze.org/wiki/Lasers)

### 核心特性

#### 优势
- ✅ 可传输极高功率（远超电缆）
- ✅ 损耗极低（每个仓口仅1 EU/s × 最大安培数被动损耗）
- ✅ 易于升级（仅需更换仓口）
- ✅ 不受方块阻挡影响

#### 劣势
- ❌ 建造成本高
- ❌ 一个源只能连接一个目标
- ❌ 大多数机器不能直接连接
- ❌ 需要精确对齐

### 组件

| 组件 | 用途 |
|------|------|
| Laser Source Hatch | 激光源仓口（发送端） |
| Laser Target Hatch | 激光目标仓口（接收端） |
| Laser Vacuum Pipe | 激光真空管道（可选连接） |
| Laser Mirror | 激光镜（用于转向，后期解锁） |
| Spray Can | 喷漆罐（颜色编码） |

### 设置步骤

1. **安装源仓口**: 在供电机器上安装Laser Source Hatch
2. **安装目标仓口**: 在受电机器上安装Laser Target Hatch
3. **对齐仓口**: 两个仓口必须面对面直线对齐（除非使用镜子）
4. **匹配电压**: 仓口必须是相同电压等级
5. **连接管道**: 使用Laser Vacuum Pipe连接（或直接相邻）
6. **颜色编码**: 用喷漆罐将源、目标、管道涂成相同颜色

### 能量损耗

**被动损耗**:
```
每个Laser仓口: 1 EU/s × 最大安培数
```

示例：
- ZPM等级4A仓口
- 损耗 = 1 EU/s × 4 = 4 EU/s ≈ 0.2 EU/t
- 与传输量无关

**传输损耗**: 几乎为0（不受距离影响）

### 支持的机器

激光系统支持以下多方块机器：
- 所有TecTech多方块
- 所有Mega变体机器
- XL涡轮机
- 高级装配线
- 聚变计算机
- 空间电梯
- 等等（详见Wiki完整列表）

### Active Transformer（主动变压器）

Active Transformer是激光电网的核心节点：
- 接收超高安培激光输入
- 分配到多个低压高安培输出
- 适合作为区域电网的能量分配中心

---

## 使用指南

### 玩家无线网络最佳实践

#### 个人使用
```
建议配置：
1. 建立发电站，使用无线输出舱室
2. 各个机器/基地使用无线输入舱室
3. 定期使用 /gt global_energy_display 检查余额
4. 规划能量容量，避免溢出
```

#### 团队协作
```
组队前协商：
1. 明确能量使用规则
2. 建立团队发电设施
3. 监控总能量使用
4. 避免单方过度消耗
```

### 混合电网设计

结合三种系统的优势：

```
架构示例：
[主发电站]
    ↓ Laser（超高功率长距离传输）
[区域 Active Transformer]
    ↓ 分配到多个区域
[区域 Tesla Tower] + [玩家无线网络]
    ↓ Tesla Tower（区域供电）+ 无线舱室（个人机器）
[机器群组]

优势：
- Laser: 主干传输，高效无损
- Tesla Tower: 区域内灵活供电
- 玩家网络: 远程/跨维度个人设备
```

### 故障排查

#### 玩家网络问题

**症状**: 机器无法从无线网络获取能量
```
检查清单：
□ 玩家网络是否有足够能量？
□ 无线舱室是否正确绑定？
□ 舱室电压等级是否足够？
□ 机器是否需要多个舱室提供足够安培数？
```

**症状**: 无法查看能量状态
```
可能原因：
1. 命令权限不足
2. 玩家名称拼写错误
3. 玩家从未使用过无线系统

解决：
- 确认有正确权限
- 使用准确的玩家名或UUID
- 放置并使用一次无线舱室初始化网络
```

#### Tesla Tower问题

**症状**: 机器未收到能量
```
检查清单：
□ Tesla Coil Cover是否安装正确？
□ 机器是否在范围内？
□ 电压等级是否匹配？
□ Tesla Tower内部缓存是否有能量？
□ 多方块机器的仓口是否朝上？
```

#### Laser系统问题

**症状**: 激光未连接
```
检查清单：
□ 源和目标是否直线对齐？
□ 颜色是否匹配？
□ 电压等级是否相同？
□ 管道是否完整连接？
```

---

## 参考资源

### 官方资源
- **GT5-Unofficial源代码**: https://github.com/GTNewHorizons/GT5-Unofficial
- **GTNH Wiki**: https://gtnh.miraheze.org/
- **GTNH主页**: https://www.gtnewhorizons.com/

### 社区资源
- **GTNH Discord**: https://discord.gg/gtnh
- **Reddit**: r/GTNH

### 相关Wiki页面
- Tesla Tower: https://wiki.gtnewhorizons.com/wiki/Tesla_tower
- Lasers: https://gtnh.miraheze.org/wiki/Lasers
- Electricity Guide: https://gtnh.miraheze.org/wiki/Electricity

---

## 文档信息

**文档版本**: 2.0（重写版本）  
**适用版本**: GT New Horizons 2.8+  
**最后更新**: 2026-02-18  
**维护者**: AI Knowledge Base Team  

**重要说明**:
- ⚠️ 本文档不包含源代码实现
- ⚠️ 所有功能描述基于游戏内观察和社区文档
- ⚠️ 具体实现细节请查阅GT5-Unofficial源代码
- ⚠️ 某些细节（如确切的类名、方法名）可能与实际源码不同

**用途**:
- 为玩家提供功能说明和使用指南
- 为AI提供GT5U无线系统的概念性知识
- 不应作为代码实现参考（请查阅实际源码）

**致谢**: 感谢GTNewHorizons团队和GTNH社区
